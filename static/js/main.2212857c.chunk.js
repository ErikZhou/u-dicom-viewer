(window["webpackJsonpu-dicom-viewer"]=window["webpackJsonpu-dicom-viewer"]||[]).push([[0],{113:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var o=a(1),r=a.n(o),n=a(5),i=a.n(n),l=(a(65),a(24)),s=a(11),c=a(12),d=a(15),m=a(13),u=a(19),g=a(14),p=a(10),S=a.n(p),f=a(6),h=a(20),P=a(55),v=a.n(P),y=a(9),b=a(4),C=a(56),O=a(57),I=a(21),R=a(40),T="LOAD_LOCALFILE",E="LOAD_URL",M="DCM_IS_OPEN",k="DCM_NUMBER_OF_FRAMES",x="DCM_TOOL",w="DCMDATA_STORE",D=function(e){return{type:x,tool:e}},A={"1.2.840.10008.1.1":"Verification SOP Class","1.2.840.10008.1.2":"Implicit VR Little Endian: Default Transfer Syntax for DICOM","1.2.840.10008.1.2.1":"Explicit VR Little Endian","1.2.840.10008.1.2.1.99":"Deflated Explicit VR Little Endian","1.2.840.10008.1.2.2":"Explicit VR Big Endian (Retired)","1.2.840.10008.1.2.4.50":"JPEG Baseline (Process 1): Default Transfer Syntax for Lossy JPEG 8 Bit Image Compression","1.2.840.10008.1.2.4.51":"JPEG Extended (Process 2 & 4): Default Transfer Syntax for Lossy JPEG 12 Bit Image Compression (Process 4 only)","1.2.840.10008.1.2.4.52":"JPEG Extended (Process 3 & 5) (Retired)","1.2.840.10008.1.2.4.53":"JPEG Spectral Selection, Non-Hierarchical (Process 6 & 8) (Retired)","1.2.840.10008.1.2.4.54":"JPEG Spectral Selection, Non-Hierarchical (Process 7 & 9) (Retired)","1.2.840.10008.1.2.4.55":"JPEG Full Progression, Non-Hierarchical (Process 10 & 12) (Retired)","1.2.840.10008.1.2.4.56":"JPEG Full Progression, Non-Hierarchical (Process 11 & 13) (Retired)","1.2.840.10008.1.2.4.57":"JPEG Lossless, Non-Hierarchical (Process 14)","1.2.840.10008.1.2.4.58":"JPEG Lossless, Non-Hierarchical (Process 15) (Retired)","1.2.840.10008.1.2.4.59":"JPEG Extended, Hierarchical (Process 16 & 18) (Retired)","1.2.840.10008.1.2.4.60":"JPEG Extended, Hierarchical (Process 17 & 19) (Retired)","1.2.840.10008.1.2.4.61":"JPEG Spectral Selection, Hierarchical (Process 20 & 22) (Retired)","1.2.840.10008.1.2.4.62":"JPEG Spectral Selection, Hierarchical (Process 21 & 23) (Retired)","1.2.840.10008.1.2.4.63":"JPEG Full Progression, Hierarchical (Process 24 & 26) (Retired)","1.2.840.10008.1.2.4.64":"JPEG Full Progression, Hierarchical (Process 25 & 27) (Retired)","1.2.840.10008.1.2.4.65":"JPEG Lossless, Hierarchical (Process 28) (Retired)","1.2.840.10008.1.2.4.66":"JPEG Lossless, Hierarchical (Process 29) (Retired)","1.2.840.10008.1.2.4.70":"JPEG Lossless, Non-Hierarchical, First-Order Prediction (Process 14 [Selection Value 1]): Default Transfer Syntax for Lossless JPEG Image Compression","1.2.840.10008.1.2.4.80":"JPEG-LS Lossless Image Compression","1.2.840.10008.1.2.4.81":"JPEG-LS Lossy (Near-Lossless) Image Compression","1.2.840.10008.1.2.4.90":"JPEG 2000 Image Compression (Lossless Only)","1.2.840.10008.1.2.4.91":"JPEG 2000 Image Compression","1.2.840.10008.1.2.4.92":"JPEG 2000 Part 2 Multi-component Image Compression (Lossless Only)","1.2.840.10008.1.2.4.93":"JPEG 2000 Part 2 Multi-component Image Compression","1.2.840.10008.1.2.4.94":"JPIP Referenced","1.2.840.10008.1.2.4.95":"JPIP Referenced Deflate","1.2.840.10008.1.2.4.100":"MPEG2 Main Profile @ Main Level","1.2.840.10008.1.2.4.101":"MPEG2 Main Profile @ High Level","1.2.840.10008.1.2.4.102":"MPEG-4 AVC/H.264 High Profile / Level 4.1","1.2.840.10008.1.2.4.103":"MPEG-4 AVC/H.264 BD-compatible High Profile / Level 4.1","1.2.840.10008.1.2.4.104":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 2D Video","1.2.840.10008.1.2.4.105":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 3D Video","1.2.840.10008.1.2.4.106":"MPEG-4 AVC/H.264 Stereo High Profile / Level 4.2","1.2.840.10008.1.2.5":"RLE Lossless","1.2.840.10008.1.2.6.1":"RFC 2557 MIME encapsulation","1.2.840.10008.1.2.6.2":"XML Encoding","1.2.840.10008.1.3.10":"Media Storage Directory Storage","1.2.840.10008.1.4.1.1":"Talairach Brain Atlas Frame of Reference","1.2.840.10008.1.4.1.2":"SPM2 T1 Frame of Reference","1.2.840.10008.1.4.1.3":"SPM2 T2 Frame of Reference","1.2.840.10008.1.4.1.4":"SPM2 PD Frame of Reference","1.2.840.10008.1.4.1.5":"SPM2 EPI Frame of Reference","1.2.840.10008.1.4.1.6":"SPM2 FIL T1 Frame of Reference","1.2.840.10008.1.4.1.7":"SPM2 PET Frame of Reference","1.2.840.10008.1.4.1.8":"SPM2 TRANSM Frame of Reference","1.2.840.10008.1.4.1.9":"SPM2 SPECT Frame of Reference","1.2.840.10008.1.4.1.10":"SPM2 GRAY Frame of Reference","1.2.840.10008.1.4.1.11":"SPM2 WHITE Frame of Reference","1.2.840.10008.1.4.1.12":"SPM2 CSF Frame of Reference","1.2.840.10008.1.4.1.13":"SPM2 BRAINMASK Frame of Reference","1.2.840.10008.1.4.1.14":"SPM2 AVG305T1 Frame of Reference","1.2.840.10008.1.4.1.15":"SPM2 AVG152T1 Frame of Reference","1.2.840.10008.1.4.1.16":"SPM2 AVG152T2 Frame of Reference","1.2.840.10008.1.4.1.17":"SPM2 AVG152PD Frame of Reference","1.2.840.10008.1.4.1.18":"SPM2 SINGLESUBJT1 Frame of Reference","1.2.840.10008.1.4.2.1":"ICBM 452 T1 Frame of Reference","1.2.840.10008.1.4.2.2":"ICBM Single Subject MRI Frame of Reference","1.2.840.10008.1.5.1":"Hot Iron Color Palette SOP Instance","1.2.840.10008.1.5.2":"PET Color Palette SOP Instance","1.2.840.10008.1.5.3":"Hot Metal Blue Color Palette SOP Instance","1.2.840.10008.1.5.4":"PET 20 Step Color Palette SOP Instance","1.2.840.10008.1.9":"Basic Study Content Notification SOP Class (Retired)","1.2.840.10008.1.20.1":"Storage Commitment Push Model SOP Class","1.2.840.10008.1.20.1.1":"Storage Commitment Push Model SOP Instance","1.2.840.10008.1.20.2":"Storage Commitment Pull Model SOP Class (Retired)","1.2.840.10008.1.20.2.1":"Storage Commitment Pull Model SOP Instance (Retired)","1.2.840.10008.1.40":"Procedural Event Logging SOP Class","1.2.840.10008.1.40.1":"Procedural Event Logging SOP Instance","1.2.840.10008.1.42":"Substance Administration Logging SOP Class","1.2.840.10008.1.42.1":"Substance Administration Logging SOP Instance","1.2.840.10008.2.6.1":"DICOM UID Registry","1.2.840.10008.2.16.4":"DICOM Controlled Terminology","1.2.840.10008.3.1.1.1":"DICOM Application Context Name","1.2.840.10008.3.1.2.1.1":"Detached Patient Management SOP Class (Retired)","1.2.840.10008.3.1.2.1.4":"Detached Patient Management Meta SOP Class (Retired)","1.2.840.10008.3.1.2.2.1":"Detached Visit Management SOP Class (Retired)","1.2.840.10008.3.1.2.3.1":"Detached Study Management SOP Class (Retired)","1.2.840.10008.3.1.2.3.2":"Study Component Management SOP Class (Retired)","1.2.840.10008.3.1.2.3.3":"Modality Performed Procedure Step SOP Class","1.2.840.10008.3.1.2.3.4":"Modality Performed Procedure Step Retrieve SOP Class","1.2.840.10008.3.1.2.3.5":"Modality Performed Procedure Step Notification SOP Class","1.2.840.10008.3.1.2.5.1":"Detached Results Management SOP Class (Retired)","1.2.840.10008.3.1.2.5.4":"Detached Results Management Meta SOP Class (Retired)","1.2.840.10008.3.1.2.5.5":"Detached Study Management Meta SOP Class (Retired)","1.2.840.10008.3.1.2.6.1":"Detached Interpretation Management SOP Class (Retired)","1.2.840.10008.4.2":"Storage Service Class","1.2.840.10008.5.1.1.1":"Basic Film Session SOP Class","1.2.840.10008.5.1.1.2":"Basic Film Box SOP Class","1.2.840.10008.5.1.1.4":"Basic Grayscale Image Box SOP Class","1.2.840.10008.5.1.1.4.1":"Basic Color Image Box SOP Class","1.2.840.10008.5.1.1.4.2":"Referenced Image Box SOP Class (Retired)","1.2.840.10008.5.1.1.9":"Basic Grayscale Print Management Meta SOP Class","1.2.840.10008.5.1.1.9.1":"Referenced Grayscale Print Management Meta SOP Class (Retired)","1.2.840.10008.5.1.1.14":"Print Job SOP Class","1.2.840.10008.5.1.1.15":"Basic Annotation Box SOP Class","1.2.840.10008.5.1.1.16":"Printer SOP Class","1.2.840.10008.5.1.1.16.376":"Printer Configuration Retrieval SOP Class","1.2.840.10008.5.1.1.17":"Printer SOP Instance","1.2.840.10008.5.1.1.17.376":"Printer Configuration Retrieval SOP Instance","1.2.840.10008.5.1.1.18":"Basic Color Print Management Meta SOP Class","1.2.840.10008.5.1.1.18.1":"Referenced Color Print Management Meta SOP Class (Retired)","1.2.840.10008.5.1.1.22":"VOI LUT Box SOP Class","1.2.840.10008.5.1.1.23":"Presentation LUT SOP Class","1.2.840.10008.5.1.1.24":"Image Overlay Box SOP Class (Retired)","1.2.840.10008.5.1.1.24.1":"Basic Print Image Overlay Box SOP Class (Retired)","1.2.840.10008.5.1.1.25":"Print Queue SOP Instance (Retired)","1.2.840.10008.5.1.1.26":"Print Queue Management SOP Class (Retired)","1.2.840.10008.5.1.1.27":"Stored Print Storage SOP Class (Retired)","1.2.840.10008.5.1.1.29":"Hardcopy Grayscale Image Storage SOP Class (Retired)","1.2.840.10008.5.1.1.30":"Hardcopy Color Image Storage SOP Class (Retired)","1.2.840.10008.5.1.1.31":"Pull Print Request SOP Class (Retired)","1.2.840.10008.5.1.1.32":"Pull Stored Print Management Meta SOP Class (Retired)","1.2.840.10008.5.1.1.33":"Media Creation Management SOP Class UID","1.2.840.10008.5.1.1.40":"Display System SOP Class","1.2.840.10008.5.1.1.40.1":"Display System SOP Instance","1.2.840.10008.5.1.4.1.1.1":"Computed Radiography Image Storage","1.2.840.10008.5.1.4.1.1.1.1":"Digital X-Ray Image Storage - For Presentation","1.2.840.10008.5.1.4.1.1.1.1.1":"Digital X-Ray Image Storage - For Processing","1.2.840.10008.5.1.4.1.1.1.2":"Digital Mammography X-Ray Image Storage - For Presentation","1.2.840.10008.5.1.4.1.1.1.2.1":"Digital Mammography X-Ray Image Storage - For Processing","1.2.840.10008.5.1.4.1.1.1.3":"Digital Intra-Oral X-Ray Image Storage - For Presentation","1.2.840.10008.5.1.4.1.1.1.3.1":"Digital Intra-Oral X-Ray Image Storage - For Processing","1.2.840.10008.5.1.4.1.1.2":"CT Image Storage","1.2.840.10008.5.1.4.1.1.2.1":"Enhanced CT Image Storage","1.2.840.10008.5.1.4.1.1.2.2":"Legacy Converted Enhanced CT Image Storage","1.2.840.10008.5.1.4.1.1.3":"Ultrasound Multi-frame Image Storage (Retired)","1.2.840.10008.5.1.4.1.1.3.1":"Ultrasound Multi-frame Image Storage","1.2.840.10008.5.1.4.1.1.4":"MR Image Storage","1.2.840.10008.5.1.4.1.1.4.1":"Enhanced MR Image Storage","1.2.840.10008.5.1.4.1.1.4.2":"MR Spectroscopy Storage","1.2.840.10008.5.1.4.1.1.4.3":"Enhanced MR Color Image Storage","1.2.840.10008.5.1.4.1.1.4.4":"Legacy Converted Enhanced MR Image Storage","1.2.840.10008.5.1.4.1.1.5":"Nuclear Medicine Image Storage (Retired)","1.2.840.10008.5.1.4.1.1.6":"Ultrasound Image Storage (Retired)","1.2.840.10008.5.1.4.1.1.6.1":"Ultrasound Image Storage","1.2.840.10008.5.1.4.1.1.6.2":"Enhanced US Volume Storage","1.2.840.10008.5.1.4.1.1.7":"Secondary Capture Image Storage","1.2.840.10008.5.1.4.1.1.7.1":"Multi-frame Single Bit Secondary Capture Image Storage","1.2.840.10008.5.1.4.1.1.7.2":"Multi-frame Grayscale Byte Secondary Capture Image Storage","1.2.840.10008.5.1.4.1.1.7.3":"Multi-frame Grayscale Word Secondary Capture Image Storage","1.2.840.10008.5.1.4.1.1.7.4":"Multi-frame True Color Secondary Capture Image Storage","1.2.840.10008.5.1.4.1.1.8":"Standalone Overlay Storage (Retired)","1.2.840.10008.5.1.4.1.1.9":"Standalone Curve Storage (Retired)","1.2.840.10008.5.1.4.1.1.9.1":"Waveform Storage - Trial (Retired)","1.2.840.10008.5.1.4.1.1.9.1.1":"12-lead ECG Waveform Storage","1.2.840.10008.5.1.4.1.1.9.1.2":"General ECG Waveform Storage","1.2.840.10008.5.1.4.1.1.9.1.3":"Ambulatory ECG Waveform Storage","1.2.840.10008.5.1.4.1.1.9.2.1":"Hemodynamic Waveform Storage","1.2.840.10008.5.1.4.1.1.9.3.1":"Cardiac Electrophysiology Waveform Storage","1.2.840.10008.5.1.4.1.1.9.4.1":"Basic Voice Audio Waveform Storage","1.2.840.10008.5.1.4.1.1.9.4.2":"General Audio Waveform Storage","1.2.840.10008.5.1.4.1.1.9.5.1":"Arterial Pulse Waveform Storage","1.2.840.10008.5.1.4.1.1.9.6.1":"Respiratory Waveform Storage","1.2.840.10008.5.1.4.1.1.10":"Standalone Modality LUT Storage (Retired)","1.2.840.10008.5.1.4.1.1.11":"Standalone VOI LUT Storage (Retired)","1.2.840.10008.5.1.4.1.1.11.1":"Grayscale Softcopy Presentation State Storage SOP Class","1.2.840.10008.5.1.4.1.1.11.2":"Color Softcopy Presentation State Storage SOP Class","1.2.840.10008.5.1.4.1.1.11.3":"Pseudo-Color Softcopy Presentation State Storage SOP Class","1.2.840.10008.5.1.4.1.1.11.4":"Blending Softcopy Presentation State Storage SOP Class","1.2.840.10008.5.1.4.1.1.11.5":"XA/XRF Grayscale Softcopy Presentation State Storage","1.2.840.10008.5.1.4.1.1.12.1":"X-Ray Angiographic Image Storage","1.2.840.10008.5.1.4.1.1.12.1.1":"Enhanced XA Image Storage","1.2.840.10008.5.1.4.1.1.12.2":"X-Ray Radiofluoroscopic Image Storage","1.2.840.10008.5.1.4.1.1.12.2.1":"Enhanced XRF Image Storage","1.2.840.10008.5.1.4.1.1.12.3":"X-Ray Angiographic Bi-Plane Image Storage (Retired)","1.2.840.10008.5.1.4.1.1.13.1.1":"X-Ray 3D Angiographic Image Storage","1.2.840.10008.5.1.4.1.1.13.1.2":"X-Ray 3D Craniofacial Image Storage","1.2.840.10008.5.1.4.1.1.13.1.3":"Breast Tomosynthesis Image Storage","1.2.840.10008.5.1.4.1.1.13.1.4":"Breast Projection X-Ray Image Storage - For Presentation","1.2.840.10008.5.1.4.1.1.13.1.5":"Breast Projection X-Ray Image Storage - For Processing","1.2.840.10008.5.1.4.1.1.14.1":"Intravascular Optical Coherence Tomography Image Storage - For Presentation","1.2.840.10008.5.1.4.1.1.14.2":"Intravascular Optical Coherence Tomography Image Storage - For Processing","1.2.840.10008.5.1.4.1.1.20":"Nuclear Medicine Image Storage","1.2.840.10008.5.1.4.1.1.30":"Parametric Map Storage","1.2.840.10008.5.1.4.1.1.66":"Raw Data Storage","1.2.840.10008.5.1.4.1.1.66.1":"Spatial Registration Storage","1.2.840.10008.5.1.4.1.1.66.2":"Spatial Fiducials Storage","1.2.840.10008.5.1.4.1.1.66.3":"Deformable Spatial Registration Storage","1.2.840.10008.5.1.4.1.1.66.4":"Segmentation Storage","1.2.840.10008.5.1.4.1.1.66.5":"Surface Segmentation Storage","1.2.840.10008.5.1.4.1.1.67":"Real World Value Mapping Storage","1.2.840.10008.5.1.4.1.1.68.1":"Surface Scan Mesh Storage","1.2.840.10008.5.1.4.1.1.68.2":"Surface Scan Point Cloud Storage","1.2.840.10008.5.1.4.1.1.77.1":"VL Image Storage - Trial (Retired)","1.2.840.10008.5.1.4.1.1.77.2":"VL Multi-frame Image Storage - Trial (Retired)","1.2.840.10008.5.1.4.1.1.77.1.1":"VL Endoscopic Image Storage","1.2.840.10008.5.1.4.1.1.77.1.1.1":"Video Endoscopic Image Storage","1.2.840.10008.5.1.4.1.1.77.1.2":"VL Microscopic Image Storage","1.2.840.10008.5.1.4.1.1.77.1.2.1":"Video Microscopic Image Storage","1.2.840.10008.5.1.4.1.1.77.1.3":"VL Slide-Coordinates Microscopic Image Storage","1.2.840.10008.5.1.4.1.1.77.1.4":"VL Photographic Image Storage","1.2.840.10008.5.1.4.1.1.77.1.4.1":"Video Photographic Image Storage","1.2.840.10008.5.1.4.1.1.77.1.5.1":"Ophthalmic Photography 8 Bit Image Storage","1.2.840.10008.5.1.4.1.1.77.1.5.2":"Ophthalmic Photography 16 Bit Image Storage","1.2.840.10008.5.1.4.1.1.77.1.5.3":"Stereometric Relationship Storage","1.2.840.10008.5.1.4.1.1.77.1.5.4":"Ophthalmic Tomography Image Storage","1.2.840.10008.5.1.4.1.1.77.1.5.5":"Wide Field Ophthalmic Photography Stereographic Projection Image Storage","1.2.840.10008.5.1.4.1.1.77.1.5.6":"Wide Field Ophthalmic Photography 3D Coordinates Image Storage","1.2.840.10008.5.1.4.1.1.77.1.6":"VL Whole Slide Microscopy Image Storage","1.2.840.10008.5.1.4.1.1.78.1":"Lensometry Measurements Storage","1.2.840.10008.5.1.4.1.1.78.2":"Autorefraction Measurements Storage","1.2.840.10008.5.1.4.1.1.78.3":"Keratometry Measurements Storage","1.2.840.10008.5.1.4.1.1.78.4":"Subjective Refraction Measurements Storage","1.2.840.10008.5.1.4.1.1.78.5":"Visual Acuity Measurements Storage","1.2.840.10008.5.1.4.1.1.78.6":"Spectacle Prescription Report Storage","1.2.840.10008.5.1.4.1.1.78.7":"Ophthalmic Axial Measurements Storage","1.2.840.10008.5.1.4.1.1.78.8":"Intraocular Lens Calculations Storage","1.2.840.10008.5.1.4.1.1.79.1":"Macular Grid Thickness and Volume Report Storage","1.2.840.10008.5.1.4.1.1.80.1":"Ophthalmic Visual Field Static Perimetry Measurements Storage","1.2.840.10008.5.1.4.1.1.81.1":"Ophthalmic Thickness Map Storage","1.2.840.10008.5.1.4.1.1.82.1":"Corneal Topography Map Storage","1.2.840.10008.5.1.4.1.1.88.1":"Text SR Storage - Trial (Retired)","1.2.840.10008.5.1.4.1.1.88.2":"Audio SR Storage - Trial (Retired)","1.2.840.10008.5.1.4.1.1.88.3":"Detail SR Storage - Trial (Retired)","1.2.840.10008.5.1.4.1.1.88.4":"Comprehensive SR Storage - Trial (Retired)","1.2.840.10008.5.1.4.1.1.88.11":"Basic Text SR Storage","1.2.840.10008.5.1.4.1.1.88.22":"Enhanced SR Storage","1.2.840.10008.5.1.4.1.1.88.33":"Comprehensive SR Storage","1.2.840.10008.5.1.4.1.1.88.34":"Comprehensive 3D SR Storage","1.2.840.10008.5.1.4.1.1.88.35":"Extensible SR Storage","1.2.840.10008.5.1.4.1.1.88.40":"Procedure Log Storage","1.2.840.10008.5.1.4.1.1.88.50":"Mammography CAD SR Storage","1.2.840.10008.5.1.4.1.1.88.59":"Key Object Selection Document Storage","1.2.840.10008.5.1.4.1.1.88.65":"Chest CAD SR Storage","1.2.840.10008.5.1.4.1.1.88.67":"X-Ray Radiation Dose SR Storage","1.2.840.10008.5.1.4.1.1.88.68":"Radiopharmaceutical Radiation Dose SR Storage","1.2.840.10008.5.1.4.1.1.88.69":"Colon CAD SR Storage","1.2.840.10008.5.1.4.1.1.88.70":"Implantation Plan SR Storage","1.2.840.10008.5.1.4.1.1.104.1":"Encapsulated PDF Storage","1.2.840.10008.5.1.4.1.1.104.2":"Encapsulated CDA Storage","1.2.840.10008.5.1.4.1.1.128":"Positron Emission Tomography Image Storage","1.2.840.10008.5.1.4.1.1.128.1":"Legacy Converted Enhanced PET Image Storage","1.2.840.10008.5.1.4.1.1.129":"Standalone PET Curve Storage (Retired)","1.2.840.10008.5.1.4.1.1.130":"Enhanced PET Image Storage","1.2.840.10008.5.1.4.1.1.131":"Basic Structured Display Storage","1.2.840.10008.5.1.4.1.1.481.1":"RT Image Storage","1.2.840.10008.5.1.4.1.1.481.2":"RT Dose Storage","1.2.840.10008.5.1.4.1.1.481.3":"RT Structure Set Storage","1.2.840.10008.5.1.4.1.1.481.4":"RT Beams Treatment Record Storage","1.2.840.10008.5.1.4.1.1.481.5":"RT Plan Storage","1.2.840.10008.5.1.4.1.1.481.6":"RT Brachy Treatment Record Storage","1.2.840.10008.5.1.4.1.1.481.7":"RT Treatment Summary Record Storage","1.2.840.10008.5.1.4.1.1.481.8":"RT Ion Plan Storage","1.2.840.10008.5.1.4.1.1.481.9":"RT Ion Beams Treatment Record Storage","1.2.840.10008.5.1.4.1.1.501.1":"DICOS CT Image Storage","1.2.840.10008.5.1.4.1.1.501.2.1":"DICOS Digital X-Ray Image Storage - For Presentation","1.2.840.10008.5.1.4.1.1.501.2.2":"DICOS Digital X-Ray Image Storage - For Processing","1.2.840.10008.5.1.4.1.1.501.3":"DICOS Threat Detection Report Storage","1.2.840.10008.5.1.4.1.1.501.4":"DICOS 2D AIT Storage","1.2.840.10008.5.1.4.1.1.501.5":"DICOS 3D AIT Storage","1.2.840.10008.5.1.4.1.1.501.6":"DICOS Quadrupole Resonance (QR) Storage","1.2.840.10008.5.1.4.1.1.601.1":"Eddy Current Image Storage","1.2.840.10008.5.1.4.1.1.601.2":"Eddy Current Multi-frame Image Storage","1.2.840.10008.5.1.4.1.2.1.1":"Patient Root Query/Retrieve Information Model - FIND","1.2.840.10008.5.1.4.1.2.1.2":"Patient Root Query/Retrieve Information Model - MOVE","1.2.840.10008.5.1.4.1.2.1.3":"Patient Root Query/Retrieve Information Model - GET","1.2.840.10008.5.1.4.1.2.2.1":"Study Root Query/Retrieve Information Model - FIND","1.2.840.10008.5.1.4.1.2.2.2":"Study Root Query/Retrieve Information Model - MOVE","1.2.840.10008.5.1.4.1.2.2.3":"Study Root Query/Retrieve Information Model - GET","1.2.840.10008.5.1.4.1.2.3.1":"Patient/Study Only Query/Retrieve Information Model - FIND (Retired)","1.2.840.10008.5.1.4.1.2.3.2":"Patient/Study Only Query/Retrieve Information Model - MOVE (Retired)","1.2.840.10008.5.1.4.1.2.3.3":"Patient/Study Only Query/Retrieve Information Model - GET (Retired)","1.2.840.10008.5.1.4.1.2.4.2":"Composite Instance Root Retrieve - MOVE","1.2.840.10008.5.1.4.1.2.4.3":"Composite Instance Root Retrieve - GET","1.2.840.10008.5.1.4.1.2.5.3":"Composite Instance Retrieve Without Bulk Data - GET","1.2.840.10008.5.1.4.31":"Modality Worklist Information Model - FIND","1.2.840.10008.5.1.4.32":"General Purpose Worklist Management Meta SOP Class (Retired)","1.2.840.10008.5.1.4.32.1":"General Purpose Worklist Information Model - FIND (Retired)","1.2.840.10008.5.1.4.32.2":"General Purpose Scheduled Procedure Step SOP Class (Retired)","1.2.840.10008.5.1.4.32.3":"General Purpose Performed Procedure Step SOP Class (Retired)","1.2.840.10008.5.1.4.33":"Instance Availability Notification SOP Class","1.2.840.10008.5.1.4.34.1":"RT Beams Delivery Instruction Storage - Trial (Retired)","1.2.840.10008.5.1.4.34.2":"RT Conventional Machine Verification - Trial (Retired)","1.2.840.10008.5.1.4.34.3":"RT Ion Machine Verification - Trial (Retired)","1.2.840.10008.5.1.4.34.4":"Unified Worklist and Procedure Step Service Class - Trial (Retired)","1.2.840.10008.5.1.4.34.4.1":"Unified Procedure Step - Push SOP Class - Trial (Retired)","1.2.840.10008.5.1.4.34.4.2":"Unified Procedure Step - Watch SOP Class - Trial (Retired)","1.2.840.10008.5.1.4.34.4.3":"Unified Procedure Step - Pull SOP Class - Trial (Retired)","1.2.840.10008.5.1.4.34.4.4":"Unified Procedure Step - Event SOP Class - Trial (Retired)","1.2.840.10008.5.1.4.34.5":"UPS Global Subscription SOP Instance","1.2.840.10008.5.1.4.34.5.1":"UPS Filtered Global Subscription SOP Instance","1.2.840.10008.5.1.4.34.6":"Unified Worklist and Procedure Step Service Class","1.2.840.10008.5.1.4.34.6.1":"Unified Procedure Step - Push SOP Class","1.2.840.10008.5.1.4.34.6.2":"Unified Procedure Step - Watch SOP Class","1.2.840.10008.5.1.4.34.6.3":"Unified Procedure Step - Pull SOP Class","1.2.840.10008.5.1.4.34.6.4":"Unified Procedure Step - Event SOP Class","1.2.840.10008.5.1.4.34.7":"RT Beams Delivery Instruction Storage","1.2.840.10008.5.1.4.34.8":"RT Conventional Machine Verification","1.2.840.10008.5.1.4.34.9":"RT Ion Machine Verification","1.2.840.10008.5.1.4.37.1":"General Relevant Patient Information Query","1.2.840.10008.5.1.4.37.2":"Breast Imaging Relevant Patient Information Query","1.2.840.10008.5.1.4.37.3":"Cardiac Relevant Patient Information Query","1.2.840.10008.5.1.4.38.1":"Hanging Protocol Storage","1.2.840.10008.5.1.4.38.2":"Hanging Protocol Information Model - FIND","1.2.840.10008.5.1.4.38.3":"Hanging Protocol Information Model - MOVE","1.2.840.10008.5.1.4.38.4":"Hanging Protocol Information Model - GET","1.2.840.10008.5.1.4.39.1":"Color Palette Storage","1.2.840.10008.5.1.4.39.2":"Color Palette Information Model - FIND","1.2.840.10008.5.1.4.39.3":"Color Palette Information Model - MOVE","1.2.840.10008.5.1.4.39.4":"Color Palette Information Model - GET","1.2.840.10008.5.1.4.41":"Product Characteristics Query SOP Class","1.2.840.10008.5.1.4.42":"Substance Approval Query SOP Class","1.2.840.10008.5.1.4.43.1":"Generic Implant Template Storage","1.2.840.10008.5.1.4.43.2":"Generic Implant Template Information Model - FIND","1.2.840.10008.5.1.4.43.3":"Generic Implant Template Information Model - MOVE","1.2.840.10008.5.1.4.43.4":"Generic Implant Template Information Model - GET","1.2.840.10008.5.1.4.44.1":"Implant Assembly Template Storage","1.2.840.10008.5.1.4.44.2":"Implant Assembly Template Information Model - FIND","1.2.840.10008.5.1.4.44.3":"Implant Assembly Template Information Model - MOVE","1.2.840.10008.5.1.4.44.4":"Implant Assembly Template Information Model - GET","1.2.840.10008.5.1.4.45.1":"Implant Template Group Storage","1.2.840.10008.5.1.4.45.2":"Implant Template Group Information Model - FIND","1.2.840.10008.5.1.4.45.3":"Implant Template Group Information Model - MOVE","1.2.840.10008.5.1.4.45.4":"Implant Template Group Information Model - GET","1.2.840.10008.7.1.1":"Native DICOM Model","1.2.840.10008.7.1.2":"Abstract Multi-Dimensional Image Model","1.2.840.10008.8.1.1":"DICOM Content Mapping Resource","1.2.840.10008.15.0.3.1":"dicomDeviceName","1.2.840.10008.15.0.3.2":"dicomDescription","1.2.840.10008.15.0.3.3":"dicomManufacturer","1.2.840.10008.15.0.3.4":"dicomManufacturerModelName","1.2.840.10008.15.0.3.5":"dicomSoftwareVersion","1.2.840.10008.15.0.3.6":"dicomVendorData","1.2.840.10008.15.0.3.7":"dicomAETitle","1.2.840.10008.15.0.3.8":"dicomNetworkConnectionReference","1.2.840.10008.15.0.3.9":"dicomApplicationCluster","1.2.840.10008.15.0.3.10":"dicomAssociationInitiator","1.2.840.10008.15.0.3.11":"dicomAssociationAcceptor","1.2.840.10008.15.0.3.12":"dicomHostname","1.2.840.10008.15.0.3.13":"dicomPort","1.2.840.10008.15.0.3.14":"dicomSOPClass","1.2.840.10008.15.0.3.15":"dicomTransferRole","1.2.840.10008.15.0.3.16":"dicomTransferSyntax","1.2.840.10008.15.0.3.17":"dicomPrimaryDeviceType","1.2.840.10008.15.0.3.18":"dicomRelatedDeviceReference","1.2.840.10008.15.0.3.19":"dicomPreferredCalledAETitle","1.2.840.10008.15.0.3.20":"dicomTLSCyphersuite","1.2.840.10008.15.0.3.21":"dicomAuthorizedNodeCertificateReference","1.2.840.10008.15.0.3.22":"dicomThisNodeCertificateReference","1.2.840.10008.15.0.3.23":"dicomInstalled","1.2.840.10008.15.0.3.24":"dicomStationName","1.2.840.10008.15.0.3.25":"dicomDeviceSerialNumber","1.2.840.10008.15.0.3.26":"dicomInstitutionName","1.2.840.10008.15.0.3.27":"dicomInstitutionAddress","1.2.840.10008.15.0.3.28":"dicomInstitutionDepartmentName","1.2.840.10008.15.0.3.29":"dicomIssuerOfPatientID","1.2.840.10008.15.0.3.30":"dicomPreferredCallingAETitle","1.2.840.10008.15.0.3.31":"dicomSupportedCharacterSet","1.2.840.10008.15.0.4.1":"dicomConfigurationRoot","1.2.840.10008.15.0.4.2":"dicomDevicesRoot","1.2.840.10008.15.0.4.3":"dicomUniqueAETitlesRegistryRoot","1.2.840.10008.15.0.4.4":"dicomDevice","1.2.840.10008.15.0.4.5":"dicomNetworkAE","1.2.840.10008.15.0.4.6":"dicomNetworkConnection","1.2.840.10008.15.0.4.7":"dicomUniqueAETitle","1.2.840.10008.15.0.4.8":"dicomTransferCapability","1.2.840.10008.15.1.1":"Universal Coordinated Time"},F="saveAs",L="json",B="overlay",G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).hide=function(){a.props.onClose()},a.cancel=function(){window.stop(),a.hide()},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=[];return e.push(r.a.createElement(f.a,{flat:!0,onClick:this.cancel},"Cancel")),r.a.createElement("div",null,r.a.createElement(f.e,{modal:!0,id:"simple-action-dialog",visible:!0,onHide:this.hide,actions:e,title:"Downloading file ..."},r.a.createElement(f.h,{id:"file-upload-progress",value:this.props.progress,determinate:!0})))}}]),t}(o.PureComponent),j=function(e){function t(){var e,a;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).firstframe=function(){a.props.runCinePlayer("firstframe")},a.previousframe=function(){a.props.runCinePlayer("previousframe")},a.play=function(){a.props.runCinePlayer("play")},a.pause=function(){a.props.runCinePlayer("pause")},a.nextframe=function(){a.props.runCinePlayer("nextframe")},a.lastframe=function(){a.props.runCinePlayer("lastframe")},a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=null;return e=this.props.inPlay?r.a.createElement(f.a,{icon:!0,onClick:this.pause},"pause"):r.a.createElement(f.a,{icon:!0,onClick:this.play},"play_arrow"),r.a.createElement("div",{style:{width:240,margin:"0 auto"}},r.a.createElement(f.a,{icon:!0,onClick:this.firstframe},"skip_previous"),r.a.createElement(f.a,{icon:!0,onClick:this.previousframe},"fast_rewind"),e,r.a.createElement(f.a,{icon:!0,onClick:this.nextframe},"fast_forward"),r.a.createElement(f.a,{icon:!0,onClick:this.lastframe},"skip_next"))}}]),t}(o.PureComponent);function V(){var e=localStorage.getItem(B);return null===e&&(e="1",localStorage.setItem(B,e)),e}function W(e){var t=typeof e;return"undefined"===t||null===t?"":"string"===t?'"'+e.replace(/"/g,'""')+'"':'"'+String(e).replace(/"/g,'""')+'"'}var N=a(17),H=Object(b.import)("util/scrollToIndex");function U(e){var t=window.URL||window.webkitURL,a=new Blob(["importScripts('".concat(e,"')")],{type:"application/javascript"});return t.createObjectURL(a)}var _={maxWebWorkers:4,webWorkerPath:U("https://unpkg.com/cornerstone-wado-image-loader@2.0.0/dist/cornerstoneWADOImageLoaderWebWorker.min.js"),taskConfiguration:{decodeTask:{codecsPath:U("https://unpkg.com/cornerstone-wado-image-loader@2.0.0/dist/cornerstoneWADOImageLoaderCodecs.js")}}};console.log({cornerstone:y}),console.log({cornerstoneWADOImageLoader:I}),console.log({dicomParser:R});var J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={file:null,visibleOpenUrlDlg:!1,progress:null,visibleCinePlayer:!0,frame:1,inPlay:!1,viewport:null},a.onOpenUrl=function(e){var t=e.detail;a.setState({progress:t.percentComplete})},a.showOpenUrlDlg=function(e){a.setState({visibleOpenUrlDlg:!0},(function(){y.events.addEventListener("cornerstoneimageloadprogress",a.onOpenUrl),a.loadImage(void 0,e)}))},a.hideOpenUrlDlg=function(){a.setState({visibleOpenUrlDlg:!1,progress:null})},a.getTransferSyntax=function(e){var t=e.data.string("x00020010");return t+" ["+A[t]+"]"},a.getSopClass=function(e){var t=e.data.string("x00080016");return t+" ["+A[t]+"]"},a.getPixelRepresentation=function(e){var t=e.data.uint16("x00280103");if(void 0!==t)return t+(0===t?" (unsigned)":" (signed)")},a.getPlanarConfiguration=function(e){var t=e.data.uint16("x00280006");if(void 0!==t)return t+(0===t?" (pixel)":" (plane)")},a.onImageRendered=function(e){console.log("cornerstoneimagerendered: ");var t=y.getViewport(e.target);document.getElementById("mrtopleft").textContent="".concat(a.dataHeader.PatientsName),document.getElementById("mrtopright").textContent="".concat(t.displayedArea.brhc.x,"x").concat(t.displayedArea.brhc.x),document.getElementById("mrbottomleft").textContent="WW/WC: ".concat(Math.round(t.voi.windowWidth),"/").concat(Math.round(t.voi.windowCenter)),document.getElementById("mrbottomright").textContent="Zoom: ".concat(100*t.scale.toFixed(2),"%"),a.props.numberOfFrames>1&&(document.getElementById("frameLabel").textContent="".concat(a.state.frame," / ").concat(a.props.numberOfFrames),a.state.inPlay&&a.setState({frame:a.state.frame+1}))},a.loadImage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(console.log("loadImage, localfile: ",e),void 0!==e||void 0!==t){void 0!==e?a.props.localfileStore(e):a.props.urlStore(t);var o=a.dicomImage;o.addEventListener("cornerstoneimagerendered",a.onImageRendered),b.init(N.isMobile?{touchEnabled:!0}:{mouseEnabled:!0});var r=void 0;r=void 0!==e?I.wadouri.fileManager.add(e):"wadouri:"+t,console.log("loadImage, imageId: ",r),y.enable(o),y.loadAndCacheImage(r).then((function(e){console.log("loadImage, image: ",e),a.hideOpenUrlDlg(),a.image=e,a.props.isOpenStore(!0),a.props.dataStore(["Transfer Syntax",a.getTransferSyntax(e)]),a.props.dataStore(["SOP Class",a.getSopClass(e)]),a.props.dataStore(["Frame Rate",e.data.string("x00082144")]),a.props.dataStore(["Samples per Pixel",e.data.uint16("x00280002")]),a.props.dataStore(["Photometric Interpretation",e.data.string("x00280004")]),a.props.dataStore(["Number of Frames",e.data.string("x00280008")]),a.props.dataStore(["Planar Configuration",a.getPlanarConfiguration(e)]),a.props.dataStore(["Rows",e.data.uint16("x00280010")]),a.props.dataStore(["Columns",e.data.uint16("x00280011")]),a.props.dataStore(["Pixel Spacing",e.data.string("x00280030")]),a.props.dataStore(["Bits Allocated",e.data.uint16("x00280100")]),a.props.dataStore(["Bits Stored",e.data.uint16("x00280101")]),a.props.dataStore(["High Bit",e.data.uint16("x00280102")]),a.props.dataStore(["Pixel Representation",a.getPixelRepresentation(e)]),a.props.dataStore(["Window Center",e.data.string("x00281050")]),a.props.dataStore(["Window Width",e.data.string("x00281051")]),a.props.dataStore(["Rescale Intercept",e.data.string("x00281052")]),a.props.dataStore(["Rescale Slope",e.data.string("x00281053")]),a.props.dataStore(["Min Stored Pixel Value",e.minPixelValue]),a.props.dataStore(["Max Stored Pixel Value",e.maxPixelValue]),a.dataHeader={transferSyntax:a.getTransferSyntax(e),sopClass:a.getSopClass(e),PatientsName:e.data.string("x00100010"),samplesPerPixel:e.data.uint16("x00280002"),photometricInterpretation:e.data.string("x00280004"),numberOfFrames:e.data.string("x00280008"),planarConfiguration:a.getPlanarConfiguration(e),rows:e.data.uint16("x00280010"),columns:e.data.uint16("x00280011"),pixelSpacing:e.data.string("x00280030"),bitsAllocated:e.data.uint16("x00280100"),bitsStored:e.data.uint16("x00280101"),highBit:e.data.uint16("x00280102"),pixelRepresentation:a.getPixelRepresentation(e),windowCenter:e.data.string("x00281050"),windowWidth:e.data.string("x00281051"),rescaleIntercept:e.data.string("x00281052"),rescaleSlope:e.data.string("x00281053"),basicOffsetTable:e.data.elements.x7fe00010&&e.data.elements.x7fe00010.basicOffsetTable?e.data.elements.x7fe00010.basicOffsetTable.length:"",fragments:e.data.elements.x7fe00010&&e.data.elements.x7fe00010.fragments?e.data.elements.x7fe00010.fragments.length:"",minStoredPixelValue:e.minPixelValue,maxStoredPixelValue:e.maxPixelValue},console.log("this.dataHeader: ",a.dataHeader),a.imageWidth=window.innerWidth,a.imageHeight=window.innerHeight-72;var t={currentImageIdIndex:0,imageIds:""},n=e.data.intString("x00280008");if(n>0){a.props.numberOfFramesStore(n);for(var i=[],l=1;l<=n;++l)i.push(r+"?frame="+l);t.imageIds=i,console.log(t.imageIds)}y.displayImage(o,e);var s=b.WwwcTool,c=b.LengthTool,d=b.PanTool,m=b.ZoomTouchPinchTool,u=b.ZoomTool,g=b.ProbeTool,p=b.EllipticalRoiTool,S=b.RectangleRoiTool,f=b.AngleTool,h=b.MagnifyTool,P=b.StackScrollMouseWheelTool;b.addTool(h),b.addTool(f),b.addTool(s),b.addTool(c),b.addTool(d),b.addTool(m),b.addTool(u),b.addTool(g),b.addTool(p),b.addTool(S),b.addTool(P),n>1&&(b.addStackStateManager(o,["stack","playClip"]),b.addToolState(o,"stack",t),b.setToolActive("StackScrollMouseWheel",{}))}))}},a.enableTool=function(e,t){a.disableAllTools()},a.disableAllTools=function(){b.setToolDisabled("Length"),b.setToolDisabled("Pan"),b.setToolDisabled("Magnify"),b.setToolDisabled("Angle"),b.setToolDisabled("RectangleRoi"),b.setToolDisabled("Wwwc"),b.setToolDisabled("ZoomTouchPinch"),b.setToolDisabled("Probe"),b.setToolDisabled("EllipticalRoi"),b.setToolDisabled("StackScrollMouseWheel")},a.runTool=function(e,t){switch(console.log("run tool: ",e),a.disableAllTools(),e){case"openfile":y.disable(a.dicomImage),a.setState({file:t}),a.loadImage(t);break;case"openurl":a.showOpenUrlDlg(t);break;case"clear":a.props.isOpenStore(!1),a.props.numberOfFramesStore(1),y.disable(a.dicomImage);break;case"notool":break;case"wwwc":b.setToolActive("Wwwc",{mouseButtonMask:1});break;case"pan":b.setToolActive("Pan",{mouseButtonMask:1});break;case"zoom":b.setToolActive(N.isMobile?"ZoomTouchPinch":"Zoom",{mouseButtonMask:1});break;case"length":b.setToolActive("Length",N.isMobile?{isTouchActive:!0}:{mouseButtonMask:1});break;case"probe":b.setToolActive("Probe",{mouseButtonMask:1});break;case"ellipticalroi":b.setToolActive("EllipticalRoi",{mouseButtonMask:1});break;case"rectangleroi":b.setToolActive("RectangleRoi",{mouseButtonMask:1});break;case"angle":b.setToolActive("Angle",{mouseButtonMask:1});break;case"magnify":b.setToolActive("Magnify",{mouseButtonMask:1});break;case"freeformroi":b.setToolActive("FreehandRoi",{mouseButtonMask:1});break;case"saveas":var o=localStorage.getItem(F);b.SaveAs(a.dicomImage,"".concat(a.state.file.name,".").concat(o),"image/".concat(o));break;case"cine":a.setState({visibleCinePlayer:!a.state.visibleCinePlayer});break;case"reset":a.reset()}},a.changeTool=function(e,t){switch(console.log("change tool, value: ",e,t),e){case"wwwc":1===t?b.setToolActive("Wwwc",{mouseButtonMask:1}):0===t&&b.setToolPassive("Wwwc");break;case"pan":1===t?b.setToolActive("Pan",{mouseButtonMask:1}):0===t&&b.setToolPassive("Pan");break;case"zoom":1===t?b.setToolActive(N.isMobile?"ZoomTouchPinch":"Zoom",{mouseButtonMask:1}):0===t&&b.setToolPassive(N.isMobile?"ZoomTouchPinch":"Zoom");break;case"length":1===t?b.setToolActive("Length",N.isMobile?{isTouchActive:!0}:{mouseButtonMask:1}):0===t&&b.setToolPassive("Length");break;case"probe":1===t?b.setToolActive("Probe",{mouseButtonMask:1}):0===t&&b.setToolPassive("Probe");break;case"angle":1===t?b.setToolActive("Angle",{mouseButtonMask:1}):0===t&&b.setToolPassive("Angle");break;case"magnify":1===t?b.setToolActive("Magnify",{mouseButtonMask:1}):0===t&&b.setToolPassive("Magnify");break;case"ellipticalroi":1===t?b.setToolActive("EllipticalRoi",{mouseButtonMask:1}):0===t&&b.setToolPassive("EllipticalRoi");break;case"rectangleroi":1===t?b.setToolActive("RectangleRoi",{mouseButtonMask:1}):0===t&&b.setToolPassive("RectangleRoi");break;case"freehandroi":1===t?b.setToolActive("FreehandRoi",{mouseButtonMask:1}):0===t&&b.setToolPassive("FreehandRoi")}},a.runCinePlayer=function(e){console.log("run cine player: ",e);var t=a.dicomImage;switch(e){case"firstframe":a.setState({frame:1}),H(t,a.state.frame);break;case"previousframe":a.state.frame>1&&(a.setState({frame:a.state.frame-1}),H(t,a.state.frame));break;case"play":b.playClip(t,30),a.setState({inPlay:!0});break;case"pause":b.stopClip(t),a.setState({inPlay:!1});break;case"nextframe":a.state.frame<a.props.numberOfFrames&&(a.setState({frame:a.state.frame+1}),H(t,a.state.frame));break;case"lastframe":a.setState({frame:a.props.numberOfFrames-1}),H(t,a.state.frame)}},a.reset=function(){var e=a.dicomImage,t=y.getDefaultViewportForImage(e,a.image),o=y.getViewport(e);o.voi.windowWidth=t.voi.windowWidth,o.voi.windowCenter=t.voi.windowCenter,y.setViewport(e,o)},a.dicomImageRef=function(e){a.dicomImage=e},a.dicomImage=null,a.imageId=null,a.image=null,a.imageWidth=window.innerWidth,a.imageHeight=window.innerHeight-72,a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){b.external.cornerstone=y,b.external.cornerstoneMath=C,O.external.cornerstone=y,I.external.cornerstone=y,I.webWorkerManager.initialize(_),I.external.dicomParser=R,b.external.Hammer=v.a}},{key:"componentDidMount",value:function(){window.scrollTo(0,1),this.props.runTool(this),this.props.changeTool(this)}},{key:"componentWillUnmount",value:function(){this.props.runTool(void 0),this.props.changeTool(void 0)}},{key:"render",value:function(){this.props.visible?document.body.style="background: #000000;":document.body.style="background: $md-grey-700;";var e=this.state.visibleOpenUrlDlg,t=this.state.progress,a={width:this.imageWidth,height:this.imageHeight,top:{heightToolbar:0},left:0,position:"absolute"},o=V(),n=null,i=null;return this.state.visibleCinePlayer&&this.props.numberOfFrames>1&&(n=r.a.createElement(j,{runCinePlayer:this.runCinePlayer,inPlay:this.state.inPlay}),i=r.a.createElement("div",{id:"frameLabel",style:{width:300,margin:"0 auto",marginTop:-10,textAlign:"center",color:"#808080"}},this.state.frame," / ",this.props.numberOfFrames)),r.a.createElement("div",{className:"container",style:{display:!0===this.props.visible?"block":"none"}},e?r.a.createElement(G,{progress:t,onClose:this.hideOpenUrlDlg}):null,r.a.createElement("div",{className:"col-9"},r.a.createElement("div",{role:"button",tabIndex:"0",style:{width:this.imageWidth,height:this.imageHeight,position:"relative",display:"inline-block",color:"white"},onContextMenu:function(){return!1},className:"cornerstone-enabled-image",unselectable:"on",onMouseDown:function(){return!1}},r.a.createElement("div",{ref:this.dicomImageRef,style:a}),r.a.createElement("div",{id:"mrtopleft",style:{position:"absolute",top:0,left:3,display:this.props.isOpen&&o?"block":"none"}},"Patient Name"),r.a.createElement("div",{id:"mrtopright",style:{position:"absolute",top:0,right:3,display:this.props.isOpen&&o?"block":"none"}},"Size"),r.a.createElement("div",{id:"mrbottomright",style:{position:"absolute",bottom:3,right:3,display:this.props.isOpen&&o?"block":"none"}},"Zoom:"),r.a.createElement("div",{id:"mrbottomleft",style:{position:"absolute",bottom:3,left:3,display:this.props.isOpen&&o?"block":"none"}},"WW/WC:"),r.a.createElement("div",{style:{position:"fixed",bottom:30,width:"100%"}},n,i))))}}]),t}(r.a.Component),X=Object(h.b)((function(e){return{localfile:e.loadLocalfile,url:e.url,isOpen:e.isOpen,numberOfFrames:e.numberOfFrames,tool:e.tool,header:e.header}}),(function(e){return{dataStore:function(t){return e(function(e){return{type:w,data:e}}(t))},localfileStore:function(t){return e(function(e){return{type:T,localfile:e}}(t))},isOpenStore:function(t){return e(function(e){return{type:M,value:e}}(t))},numberOfFramesStore:function(t){return e(function(e){return{type:k,value:e}}(t))},toolStore:function(t){return e(D(t))},urlStore:function(t){return e(function(e){return{type:E,url:e}}(t))}}}))(J),Q=function(e){var t=e.name,a=e.value;return console.log("name, value: ",t,a),r.a.createElement(f.i,{primaryText:t,secondaryText:a,threeLines:a.length>30,secondaryTextStyle:{fontSize:"12px",textAlign:"left"}})},Z={maxWidth:window.innerWidth-40},z=function(e){var t=e.onClose,a=function(){var e=localStorage.getItem(L);null===e&&(e="json",localStorage.setItem(L,e))}(),o=function(){var e=localStorage.getItem(F);null===e&&(e="png",localStorage.setItem(F,e))}(),n=V();return r.a.createElement("div",null,r.a.createElement(f.l,{fixed:!0,nav:r.a.createElement(f.a,{icon:!0,onClick:function(){return t(!1)}},"close"),title:"Settings"}),r.a.createElement(f.b,{className:"md-block-centered",style:Z},r.a.createElement(f.c,null,r.a.createElement(f.j,{id:"selection-control-group-radios-1",name:"radio-saveas",type:"radio",label:"Save screenshot as:",defaultValue:o,onChange:function(e){!function(e){localStorage.setItem(F,e)}(e)},controls:[{label:"JPEG",value:"jpeg"},{label:"PNG",value:"png"}]}))),r.a.createElement("br",null),r.a.createElement(f.b,{className:"md-block-centered",style:Z},r.a.createElement(f.c,null,r.a.createElement(f.j,{id:"selection-control-group-radios-2",name:"radio-export-header",type:"radio",label:"Export Dicom header as:",defaultValue:a,onChange:function(e){!function(e){localStorage.setItem(L,e)}(e)},controls:[{label:"JSON",value:"json"},{label:"CSV",value:"csv"}]}))),r.a.createElement("br",null),r.a.createElement(f.b,{className:"md-block-centered",style:Z},r.a.createElement(f.c,null,r.a.createElement(f.d,{id:"checkbox-read-material-design-spec",name:"simple-checkboxes[]",label:"Overlay Information",defaultChecked:"1"===n,onChange:function(e){!function(e){localStorage.setItem(B,e)}(n=e?"1":"0")}}))))},q={position:"relative",width:"98%"},K={width:"90%",padding:"15px"},Y={position:"absolute",right:"0px",top:"12px"},$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).onClick=function(){a.props.onClose(!0,a.urlField.current.value)},a.urlField=r.a.createRef(),a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"md-grid"},r.a.createElement(f.l,{fixed:!0,nav:r.a.createElement(f.a,{icon:!0,onClick:function(){return e.props.onClose(!1)}},"close"),title:"Open URL"}),r.a.createElement("div",{style:q},r.a.createElement(f.k,{fullWidth:!0,id:"idUrl",ref:this.urlField,placeholder:"URL",style:K,value:""}),r.a.createElement(f.a,{icon:!0,style:Y,onClick:this.onClick},"get_app")))}}]),t}(o.PureComponent),ee=a(41),te=a.n(ee),ae=a(42);a(113);function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}var re="#BDBDBD",ne=null,ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).menuListItems=[{key:"openfile",primaryText:"Open File ...",leftIcon:r.a.createElement(f.g,null,"folder"),onClick:function(){a.showFileOpen()}},{key:"openurl",primaryText:"Open URL ...",leftIcon:r.a.createElement(f.g,null,"cloud"),onClick:function(){a.showOpenUrl()}},{key:"clear",primaryText:"Clear",leftIcon:r.a.createElement(f.g,null,"clear"),onClick:function(){console.log("menu item clear "),a.runTool.runTool("clear")}},{key:"divider",divider:!0},{key:"notool",primaryText:"No tool",leftIcon:r.a.createElement(te.a,{path:ae.a,size:"1.5rem",color:re}),onClick:function(){ne=null,a.toolExecute("notool")}},{key:"wwwc",primaryText:"WW/WC",leftIcon:r.a.createElement(f.g,null,"open_with"),onClick:function(){ne="open_with",a.toolExecute("wwwc")}},{key:"pan",primaryText:"Pan",leftIcon:r.a.createElement(f.g,null,"pan_tool"),onClick:function(){ne="pan_tool",a.toolExecute("pan")}},{key:"zoom",primaryText:"Zoom",leftIcon:r.a.createElement(f.g,null,"search"),onClick:function(){ne="search",a.toolExecute("zoom")}},{key:"magnify",primaryText:"Magnify",leftIcon:r.a.createElement(f.g,null,"image_search"),onClick:function(){ne="image_search",a.toolExecute("magnify")}},{key:"length",primaryText:"Length",leftIcon:r.a.createElement(f.g,null,"straighten"),onClick:function(){ne="straighten",a.toolExecute("length")}},{key:"probe",primaryText:"Probe",leftIcon:r.a.createElement(f.g,null,"trip_origin"),onClick:function(){ne="trip_origin",a.toolExecute("probe")}},{key:"angle",primaryText:"Angle",leftIcon:r.a.createElement(f.g,null,"share"),onClick:function(){ne="share",a.toolExecute("angle")}},{key:"ellipticalroi",primaryText:"Elliptical Roi",leftIcon:r.a.createElement(f.g,null,"vignette"),onClick:function(){ne="vignette",a.toolExecute("ellipticalroi")}},{key:"rectangleroi",primaryText:"Rectangle Roi",leftIcon:r.a.createElement(f.g,null,"branding_watermark"),onClick:function(){ne="branding_watermark",a.toolExecute("rectangleroi")}}],a.menuListSetting=[{key:"overlay",primaryText:"Overlay information",onClick:function(){console.log("menu setting overlay ")}},{key:"saveas",primaryText:"Save screenshot as ...",onClick:function(){console.log("menu setting saveas ")}}],a.state={visibleDcm:!0,visibleMain:!1,visibleHeader:!1,visibleSettings:!1,visibleToolbar:!0,visibleOpenUrl:!1,toolState:1},a.handleChange=function(e){var t=e[0];console.log("handleChange, file: ",t),a.runTool.runTool("openfile",t)},a.showDrawer=function(){a.setState({visibleMain:!0})},a.hideDrawer=function(){a.setState({visibleMain:!1})},a.handleVisibility=function(e){a.setState({visibleMain:e})},a.showHeader=function(){a.setState({visibleHeader:!0,position:"right"})},a.hideHeader=function(){a.setState({visibleHeader:!1})},a.handleVisibilityHeader=function(e){a.setState({visibleHeader:e})},a.saveHeader=function(){var e=localStorage.getItem(L);null===e&&(e="json",localStorage.setItem(L,e));var t="";if("csv"===e)t=function(e,t){var a,o,r,n,i,l,s,c=[],d="",m='"';for("undefined"!==typeof t&&null!==t||(t=","),a=0,o=e.length;a<o;a+=1){if(n=e[a],i="",0===a){for(r in n)n.hasOwnProperty(r)&&(c.push(r),i+=[m,r.replace(/"/g,'""'),m,t].join(""));d+=i=i.substring(0,i.length-1)}for(d+="\n",i="",l=0,s=c.length;l<s;l+=1)l>0&&(i+=t),i+=W(n[r=c[l]]);d+=i}return d}(a.props.header);else{var o=a.props.header.reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,Object(l.a)({},t.name,t.value))}),{});t=JSON.stringify(o)}var r=document.createElement("a"),n=new Blob([t],{type:"text/plain"});r.href=URL.createObjectURL(n),r.download="".concat(a.props.localfile.name,".").concat(e),document.body.appendChild(r),r.click()},a.showSettings=function(){a.setState({visibleDcm:!1,visibleMain:!1,visibleSettings:!0,visibleToolbar:!1,position:"right"})},a.hideSettings=function(){a.setState({visibleDcm:!0,visibleSettings:!1,visibleToolbar:!0})},a.handleVisibilitySettings=function(e){a.setState({visibleSettings:e})},a.showOpenUrl=function(){a.setState({visibleDcm:!1,visibleMain:!1,visibleOpenUrl:!0,visibleToolbar:!1})},a.hideOpenUrl=function(e,t){a.setState({visibleDcm:!0,visibleOpenUrl:!1,visibleToolbar:!0},(function(e){return e?a.runTool.runTool("openurl",t):null}))},a.downloadOpenUrl=function(){a.setState({visibleDcm:!0,visibleOpenUrl:!1,visibleToolbar:!0})},a.resetImage=function(){console.log("resetImage: "),a.runTool.runTool("reset")},a.saveShot=function(){console.log("saveShot: "),a.runTool.runTool("saveas")},a.cinePlayer=function(){console.log("cinePlayer: "),a.runTool.runTool("cine")},a.toolExecute=function(e){console.log("menu tool: ",e),"notool"===e&&a.setState({toolState:null}),a.props.toolStore(e),a.runTool.runTool(e)},a.toolChange=function(){console.log("toolChange: ");var e=1-a.state.toolState;a.setState({toolState:e},(function(){a.changeTool.changeTool(a.props.tool,e)}))},a.file=null,a.fileOpen=r.a.createRef(),a.showFileOpen=a.showFileOpen.bind(Object(u.a)(a)),a}return Object(g.a)(t,e),Object(c.a)(t,[{key:"showFileOpen",value:function(){this.fileOpen.current.click()}},{key:"componentDidMount",value:function(){this.dialog=document.getElementById("drawer-routing-example-dialog"),console.log("deviceDetect: ",Object(N.deviceDetect)())}},{key:"render",value:function(){var e=this,t=this.state.visibleDcm,a=this.state.visibleMain,o=this.state.visibleHeader,n=this.state.visibleSettings,i=this.state.visibleToolbar,l=this.state.visibleOpenUrl,s=r.a.createElement(f.a,{icon:!0,onClick:this.hideHeader},"close"),c=1===this.state.toolState;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("input",{type:"file",id:"my_file",style:{display:"none"},ref:this.fileOpen,onChange:function(t){return e.handleChange(t.target.files)}})),r.a.createElement(f.l,{fixed:!0,style:{display:!0===i?"":"none"},nav:r.a.createElement(f.a,{icon:!0,onClick:this.showDrawer},"menu"),actions:[null!==this.props.tool?r.a.createElement(f.a,{icon:!0,primary:c,secondary:!c,onClick:this.toolChange},ne):null,this.props.numberOfFrames>1?r.a.createElement(f.a,{icon:!0,onClick:this.cinePlayer},"videocam"):null,this.props.isOpen?r.a.createElement(f.a,{icon:!0,primary:!0,onClick:this.resetImage},"refresh"):null,this.props.isOpen?r.a.createElement(f.a,{icon:!0,primary:!0,onClick:this.saveShot},"photo_camera"):null,this.props.isOpen?r.a.createElement(f.a,{icon:!0,primary:!0,onClick:this.showHeader},r.a.createElement(te.a,{path:ae.b,size:"1.5rem",color:re})):null]}),r.a.createElement(S.a,{component:"div",transitionName:"md-cross-fade",transitionEnterTimeout:300,transitionLeave:!1,className:"md-toolbar-relative md-grid"}),r.a.createElement(f.f,{type:f.f.DrawerTypes.TEMPORARY,visible:a,onVisibilityChange:this.handleVisibility,header:r.a.createElement(f.l,{title:"U Dicom Viewer",actions:[r.a.createElement(f.a,{icon:!0,onClick:this.showSettings},"settings_applications")]}),renderNode:this.dialog,navItems:this.menuListItems}),r.a.createElement(f.f,{type:f.f.DrawerTypes.TEMPORARY,visible:o,position:"right",onVisibilityChange:this.handleVisibilityHeader,renderNode:this.dialog,navItems:this.props.header.map((function(e,t){return r.a.createElement(Q,{name:e.name,value:e.value,key:t})})),header:r.a.createElement(f.l,{nav:s,actions:[r.a.createElement(f.a,{icon:!0,onClick:this.saveHeader},"save_alt")],title:"Dicom Header",className:"md-divider-border md-divider-border--bottom"})}),n?r.a.createElement(z,{onClose:this.hideSettings}):null,l?r.a.createElement($,{onClose:this.hideOpenUrl}):null,r.a.createElement(X,{runTool:function(t){return e.runTool=t},changeTool:function(t){return e.changeTool=t},visible:t}))}}]),t}(o.PureComponent),le=Object(h.b)((function(e){return{localfile:e.localfile,isOpen:e.isOpen,numberOfFrames:e.numberOfFrames,tool:e.tool,header:e.header}}),(function(e){return{toolStore:function(t){return e(D(t))}}}))(ie);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=a(58),ce=a.n(se),de=a(29),me=a(25),ue=a(59);function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Se=Object(de.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{localfile:t.localfile,url:null,isOpen:!1,numberOfFrames:1,tool:null,header:[]};case E:return{localfile:null,url:t.url,isOpen:!1,numberOfFrames:1,tool:null,header:[]};case w:var a=Object(ue.a)(t.data,2),o=a[0],r=a[1];return void 0===r?e:pe({},e,{header:[].concat(Object(me.a)(e.header),[{name:o,value:r}])});case M:return pe({},e,{isOpen:t.value,header:Object(me.a)(e.header)});case k:return pe({},e,{numberOfFrames:t.value,header:Object(me.a)(e.header)});case x:return pe({},e,{tool:t.tool,header:Object(me.a)(e.header)});default:return e}}),{localfile:null,url:null,isOpen:!1,numberOfFrames:1,tool:null,header:[]},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());ce.a.load({google:{families:["Roboto:300,400,500,700","Material Icons"]}}),Se.subscribe((function(){return console.log("store updated:",Se.getState())})),i.a.render(r.a.createElement(h.a,{store:Se},r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},60:function(e,t,a){e.exports=a(114)},65:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.2212857c.chunk.js.map